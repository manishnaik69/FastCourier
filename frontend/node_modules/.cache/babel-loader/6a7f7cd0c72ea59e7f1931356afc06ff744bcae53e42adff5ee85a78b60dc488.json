{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\cms\\\\manish\\\\manish1\\\\frontend\\\\src\\\\components\\\\admin\\\\dashboard\\\\RevenueChart.jsx\",\n  _s = $RefreshSig$();\n// src/components/admin/dashboard/RevenueChart.jsx\nimport React, { useState, useEffect } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport { AlertCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RevenueChart = ({\n  dateRange\n}) => {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    fetchRevenueData();\n  }, [dateRange]);\n  const fetchRevenueData = async () => {\n    try {\n      const endDate = new Date();\n      const startDate = new Date();\n      startDate.setDate(startDate.getDate() - parseInt(dateRange));\n      const response = await fetch(`http://localhost:5000/api/admin/revenue-chart?startDate=${startDate.toISOString()}&endDate=${endDate.toISOString()}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      const responseData = await response.json();\n      if (!response.ok) {\n        throw new Error(responseData.message);\n      }\n\n      // Transform data for the chart\n      const formattedData = responseData.data.map(item => ({\n        date: new Date(item.date).toLocaleDateString('en-IN', {\n          day: 'numeric',\n          month: 'short'\n        }),\n        revenue: item.revenue,\n        shipments: item.shipments\n      }));\n      setData(formattedData);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-80 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-pulse w-full h-full bg-gray-100 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-80 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"h-8 w-8 text-red-500 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-500\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-80\",\n    children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: \"100%\",\n      children: /*#__PURE__*/_jsxDEV(LineChart, {\n        data: data,\n        margin: {\n          top: 5,\n          right: 30,\n          left: 20,\n          bottom: 5\n        },\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"date\",\n          tick: {\n            fontSize: 12\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          yAxisId: \"left\",\n          tick: {\n            fontSize: 12\n          },\n          tickFormatter: value => `₹${value}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          yAxisId: \"right\",\n          orientation: \"right\",\n          tick: {\n            fontSize: 12\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          formatter: (value, name) => {\n            if (name === 'revenue') {\n              return [`₹${value}`, 'Revenue'];\n            }\n            return [value, 'Shipments'];\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          yAxisId: \"left\",\n          type: \"monotone\",\n          dataKey: \"revenue\",\n          stroke: \"#4F46E5\",\n          activeDot: {\n            r: 8\n          },\n          name: \"Revenue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          yAxisId: \"right\",\n          type: \"monotone\",\n          dataKey: \"shipments\",\n          stroke: \"#10B981\",\n          name: \"Shipments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(RevenueChart, \"XgxZZJ8yHmz3URDGJO+OC9TIpHw=\");\n_c = RevenueChart;\nexport default RevenueChart;\nvar _c;\n$RefreshReg$(_c, \"RevenueChart\");","map":{"version":3,"names":["React","useState","useEffect","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","AlertCircle","jsxDEV","_jsxDEV","RevenueChart","dateRange","_s","data","setData","loading","setLoading","error","setError","fetchRevenueData","endDate","Date","startDate","setDate","getDate","parseInt","response","fetch","toISOString","headers","localStorage","getItem","responseData","json","ok","Error","message","formattedData","map","item","date","toLocaleDateString","day","month","revenue","shipments","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","tick","fontSize","yAxisId","tickFormatter","value","orientation","formatter","name","type","stroke","activeDot","r","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/cms/manish/manish1/frontend/src/components/admin/dashboard/RevenueChart.jsx"],"sourcesContent":["// src/components/admin/dashboard/RevenueChart.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\r\nimport { AlertCircle } from 'lucide-react';\r\n\r\nconst RevenueChart = ({ dateRange }) => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchRevenueData();\r\n  }, [dateRange]);\r\n\r\n  const fetchRevenueData = async () => {\r\n    try {\r\n      const endDate = new Date();\r\n      const startDate = new Date();\r\n      startDate.setDate(startDate.getDate() - parseInt(dateRange));\r\n\r\n      const response = await fetch(\r\n        `http://localhost:5000/api/admin/revenue-chart?startDate=${startDate.toISOString()}&endDate=${endDate.toISOString()}`,\r\n        {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n          }\r\n        }\r\n      );\r\n\r\n      const responseData = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(responseData.message);\r\n      }\r\n\r\n      // Transform data for the chart\r\n      const formattedData = responseData.data.map(item => ({\r\n        date: new Date(item.date).toLocaleDateString('en-IN', { \r\n          day: 'numeric',\r\n          month: 'short'\r\n        }),\r\n        revenue: item.revenue,\r\n        shipments: item.shipments\r\n      }));\r\n\r\n      setData(formattedData);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"h-80 flex items-center justify-center\">\r\n        <div className=\"animate-pulse w-full h-full bg-gray-100 rounded\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"h-80 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <AlertCircle className=\"h-8 w-8 text-red-500 mx-auto\" />\r\n          <p className=\"mt-2 text-sm text-gray-500\">{error}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-80\">\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <LineChart\r\n          data={data}\r\n          margin={{\r\n            top: 5,\r\n            right: 30,\r\n            left: 20,\r\n            bottom: 5,\r\n          }}\r\n        >\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis \r\n            dataKey=\"date\" \r\n            tick={{ fontSize: 12 }}\r\n          />\r\n          <YAxis \r\n            yAxisId=\"left\"\r\n            tick={{ fontSize: 12 }}\r\n            tickFormatter={(value) => `₹${value}`}\r\n          />\r\n          <YAxis \r\n            yAxisId=\"right\" \r\n            orientation=\"right\"\r\n            tick={{ fontSize: 12 }}\r\n          />\r\n          <Tooltip\r\n            formatter={(value, name) => {\r\n              if (name === 'revenue') {\r\n                return [`₹${value}`, 'Revenue'];\r\n              }\r\n              return [value, 'Shipments'];\r\n            }}\r\n          />\r\n          <Line\r\n            yAxisId=\"left\"\r\n            type=\"monotone\"\r\n            dataKey=\"revenue\"\r\n            stroke=\"#4F46E5\"\r\n            activeDot={{ r: 8 }}\r\n            name=\"Revenue\"\r\n          />\r\n          <Line\r\n            yAxisId=\"right\"\r\n            type=\"monotone\"\r\n            dataKey=\"shipments\"\r\n            stroke=\"#10B981\"\r\n            name=\"Shipments\"\r\n          />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RevenueChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}